#!/bin/bash
# Reminder-Cron 服务启动脚本

set -e  # 遇到错误立即退出

echo "============================================================"
echo "CreditPilot 提醒任务启动中..."
echo "============================================================"

# 检查环境变量
if [ -z "$DATABASE_URL" ]; then
    echo "⚠️  警告: DATABASE_URL 环境变量未设置"
else
    echo "✅ DATABASE_URL 已设置"
fi

# 切换到 backend 目录（已经在 /app/backend，但确保）
cd /app/backend

# 执行提醒任务
echo ""
echo "============================================================"
echo "执行每日提醒任务..."
echo "============================================================"

python3 reminder_system.py

echo ""
echo "============================================================"
echo "提醒任务完成"
echo "============================================================"

