# 如何获取正确的日志来诊断问题

---

## 📋 需要查看的日志

### 1. Web 服务的部署日志（最重要）

**步骤**：
1. 进入 Railway 项目
2. 找到 **Web 服务**（不是 Postgres 服务）
3. 点击 Web 服务
4. 进入 **"Deployments"** 标签
5. 点击最新的部署（最上面的）
6. 查看 **"Logs"** 或 **"View Logs"**

**应该看到的内容**：
```
============================================================
CreditPilot 启动中...
============================================================
✅ DATABASE_URL 已设置
============================================================
初始化数据库...
============================================================
📊 数据库连接: postgresql://***@...
🔨 创建数据库表...
✅ 数据库表创建成功
✅ 数据库初始化完成
============================================================
启动API服务器...
============================================================
INFO:     Started server process
INFO:     Uvicorn running on http://0.0.0.0:8000
```

**如果看到错误**：
- 复制完整的错误信息
- 特别是红色的错误行

---

### 2. Web 服务的运行时日志

**步骤**：
1. 进入 Web 服务
2. 点击 **"Logs"** 标签（不是 Deployments）
3. 查看实时日志

**应该看到**：
- API 请求日志
- 应用运行日志
- 错误信息（如果有）

---

### 3. Reminder-Cron 服务的日志（如果已创建）

**步骤**：
1. 进入 Reminder-Cron 服务
2. 查看 **"Logs"** 或 **"Deployments"** → 最新部署 → **"Logs"**

---

## ⚠️ 不要查看的日志

### Postgres 服务的日志
- ❌ 这不是应用日志
- ❌ 那些 `[err]` 标记是 OpenSSL 输出，不是错误
- ✅ Postgres 服务正常运行（从你提供的日志看）

---

## 🔍 如何识别真正的错误

### 真正的错误示例

1. **数据库连接错误**：
   ```
   ✗ 数据库初始化失败: could not connect to server
   ✗ 数据库初始化失败: connection refused
   ```

2. **模块导入错误**：
   ```
   ModuleNotFoundError: No module named 'xxx'
   ImportError: cannot import name 'xxx'
   ```

3. **端口错误**：
   ```
   Address already in use
   Port 8000 is not available
   ```

4. **路径错误**：
   ```
   No such file or directory: /app/uploads
   Permission denied: /app/reports
   ```

---

## 📤 如何提供日志

### 方法 1：复制日志文本
1. 在 Railway 中查看日志
2. 选择所有文本（Cmd+A）
3. 复制（Cmd+C）
4. 粘贴给我

### 方法 2：截图
1. 截图日志（遮住敏感信息）
2. 发送给我

### 方法 3：导出日志文件
1. Railway 可能提供导出功能
2. 导出后发送给我

---

## 🎯 现在请做

1. **进入 Web 服务**（不是 Postgres）
2. **查看部署日志**
3. **复制错误信息**（如果有）
4. **发送给我**

这样我可以准确诊断问题！

---

**指南完成时间**：2025-12-10
